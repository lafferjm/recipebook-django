<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
        >
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        {% load static %}

        <style>
            .category-list {
                padding: 0 2rem !important;
            }
        </style>

        <title>Recipe Book</title>
    </head>

    <body>
        <nav>
            <div class="nav-wrapper">
                <a class="brand-logo" href="{% url 'index' %}">RecipeBook</a>
                <ul id="nav-mobile" class="right">
                    <li>
                        {% if request.user.is_authenticated %}
                            <a class="nav-link" href="{% url 'logout' %}">Logout</a>
                        {% else %}
                            <a class="nav-link" href="{% url 'login' %}">Login</a>
                        {% endif %}
                    </li>
                </ul>
            </div>
        </nav>

        <div class="row">
            <div class="col s3">
                {% if not categories %}
                    <p>There are no categories</p>
                {% else %}
                    <ul class="collapsible">
                        {% for category in categories %}
                            <li>
                                <div class="collapsible-header">{{ category.name }}</div>
                                {% for subcategory in category.subcategories.all %}
                                    <div class="collapsible-body category-list">
                                        <p>{{ subcategory.name }}</p>
                                    </div>
                                {% endfor %}
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <div class="col s9">
                {% block content %}{% endblock %}
            </div>
        </div>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js">
        </script>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                var elems = document.querySelectorAll('.collapsible');
                var instances = M.Collapsible.init(elems, {});
            });
        </script>
    </body>
</html>
